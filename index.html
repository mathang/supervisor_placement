<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clinical Supervisor Portal</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f4f7f6;
            color: #333;
            line-height: 1.6;
        }

        .container {
            max-width: 960px;
            margin: 30px auto;
            background-color: #ffffff;
            padding: 30px 40px;
            border-radius: 12px;
            box-shadow: 0 4px 18px rgba(0, 0, 0, 0.08);
        }

        .header {
            text-align: center;
            padding-bottom: 25px;
            border-bottom: 1px solid #e4e4e4;
            margin-bottom: 35px;
        }

        .logo-placeholder {
            width: 120px;
            height: 120px;
            margin: 0 auto 18px;
            border-radius: 60px;
            background: linear-gradient(135deg, #0056b3, #4dabf7);
            color: #fff;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            letter-spacing: 1px;
        }

        .header h1 {
            color: #0056b3;
            font-size: 2.3em;
            margin: 0 0 8px;
        }

        .header p {
            margin: 0;
            color: #4a4a4a;
        }

        .emergency-contact {
            background-color: #ffe0b2;
            border: 1px solid #ffcc80;
            padding: 18px;
            border-radius: 8px;
            text-align: center;
            font-weight: bold;
            color: #e65100;
            margin: 0 0 30px;
            display: none;
        }

        .dashboard-section {
            background-color: #f9f9f9;
            padding: 28px;
            border-radius: 10px;
            margin-bottom: 28px;
            border: 1px solid #e0e0e0;
        }

        .dashboard-section h2 {
            color: #0056b3;
            margin-top: 0;
            font-size: 1.7em;
            border-bottom: 2px solid #0056b3;
            padding-bottom: 10px;
            margin-bottom: 18px;
        }

        .quick-access-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 20px;
        }

        .quick-access-button {
            display: block;
            padding: 24px 20px;
            background-color: #007bff;
            color: white;
            text-align: center;
            text-decoration: none;
            border-radius: 10px;
            font-size: 1.15em;
            font-weight: 600;
            transition: background-color 0.2s ease, transform 0.2s ease, box-shadow 0.2s ease;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            border: none;
            cursor: pointer;
            width: 100%;
        }

        .quick-access-button:hover,
        .quick-access-button:focus {
            background-color: #0056b3;
            transform: translateY(-2px);
            outline: none;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.15);
        }

        .status-items p {
            margin: 10px 0;
            font-size: 1.05em;
        }

        .status-items p strong {
            color: #0056b3;
        }

        .chat-widget {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: #28a745;
            color: white;
            padding: 12px 20px;
            border-radius: 30px;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            font-weight: bold;
            transition: background-color 0.2s ease;
        }

        .chat-widget:hover {
            background-color: #218838;
        }

        #login-section {
            text-align: center;
        }

        #login-form {
            background-color: #f9f9f9;
            padding: 30px;
            border-radius: 10px;
            display: inline-block;
            box-shadow: 0 2px 12px rgba(0, 0, 0, 0.06);
            margin-top: 30px;
            max-width: 420px;
        }

        #login-form label {
            display: block;
            text-align: left;
            font-weight: 600;
            margin-bottom: 6px;
        }

        #login-form input[type="email"],
        #login-form input[type="text"] {
            width: calc(100% - 20px);
            padding: 12px 10px;
            margin-bottom: 18px;
            border: 1px solid #ccc;
            border-radius: 5px;
            font-size: 1.05em;
        }

        #login-form button {
            background-color: #007bff;
            color: white;
            padding: 12px 25px;
            border: none;
            border-radius: 6px;
            font-size: 1.1em;
            cursor: pointer;
            transition: background-color 0.2s ease;
        }

        #login-form button:hover {
            background-color: #0056b3;
        }

        .login-message {
            margin-top: 15px;
            font-size: 0.95em;
            color: #555;
        }

        .hidden {
            display: none !important;
        }

        .back-button {
            background: none;
            border: none;
            color: #0056b3;
            font-weight: 600;
            cursor: pointer;
            margin-bottom: 15px;
            display: inline-flex;
            align-items: center;
            gap: 6px;
            font-size: 1em;
            padding: 0;
        }

        .back-button:hover,
        .back-button:focus {
            text-decoration: underline;
            outline: none;
        }

        .view-header p {
            margin: 10px 0 0;
            color: #4a4a4a;
        }

        .view-content {
            margin-top: 24px;
            background: #fff;
            border-radius: 8px;
            padding: 20px;
            border: 1px solid #e0e0e0;
        }

        .detail-list {
            padding-left: 20px;
        }

        .detail-list li {
            margin-bottom: 8px;
        }

        @media (max-width: 600px) {
            body {
                padding: 10px;
            }

            .container {
                padding: 20px;
            }

            #login-form {
                width: 100%;
            }
        }
    </style>
</head>
<body>

    <div class="container">
        <div class="header">
            <div class="logo-placeholder">UCP</div>
            <h1>Clinical Supervisor Portal</h1>
            <p>Supporting high-quality placements with clear, timely guidance.</p>
        </div>

        <div id="login-section">
            <h2>Supervisor Login</h2>
            <p class="login-message">Enter your university email address to receive a secure access code.</p>
            <div id="login-form">
                <form id="email-step">
                    <label for="emailInput">University email</label>
                    <input type="email" id="emailInput" name="email" placeholder="you@example.edu" required>
                    <button type="submit">Send access code</button>
                </form>
                <form id="code-step" class="hidden">
                    <label for="codeInput">6-digit code</label>
                    <input type="text" id="codeInput" name="code" inputmode="numeric" minlength="6" maxlength="6" placeholder="Enter code" required>
                    <button type="submit">Verify and continue</button>
                    <p class="login-message">
                        Didn't receive the text? <a href="#" id="resendLink">Resend code</a>
                    </p>
                    <label style="display: flex; align-items: center; gap: 8px; font-size: 0.95em; margin-top: 10px;">
                        <input type="checkbox" id="rememberDevice"> Remember this device for 30 days
                    </label>
                </form>
                <p id="loginStatus" class="login-message" role="status" aria-live="polite"></p>
            </div>
        </div>

        <div id="portal-dashboard" class="hidden">
            <div class="dashboard-section welcome-panel">
                <h2 id="greeting">Welcome back!</h2>
                <p>Choose a task below to jump into your supervision workflow.</p>
            </div>
            <div id="emergencyContact" class="emergency-contact">
                Emergency support: Call the Clinical Placement Team at (555) 123-4567 for urgent assistance.
            </div>
            <div id="view-container"></div>
        </div>
    </div>

    <div class="chat-widget" id="chatWidget">
        Chat with our AI Assistant
    </div>

    <script>
        const emailStep = document.getElementById('email-step');
        const codeStep = document.getElementById('code-step');
        const portalDashboard = document.getElementById('portal-dashboard');
        const emergencyContact = document.getElementById('emergencyContact');
        const greeting = document.getElementById('greeting');
        const emailInput = document.getElementById('emailInput');
        const codeInput = document.getElementById('codeInput');
        const rememberDeviceCheckbox = document.getElementById('rememberDevice');
        const loginStatus = document.getElementById('loginStatus');
        const viewContainer = document.getElementById('view-container');
        const chatWidget = document.getElementById('chatWidget');

        let simulatedUserEmail = '';
        const correctSimulatedCode = '123456';

        const views = {
            dashboard: {
                title: 'Dashboard',
                render: () => `
                    <div class="dashboard-section">
                        <h2>Placement Snapshot</h2>
                        <div class="status-items">
                            <p><strong>Current Students:</strong> 12 actively placed this term</p>
                            <p><strong>Assessments Due:</strong> 3 midterm reviews within the next 7 days</p>
                            <p><strong>Messages:</strong> 2 new updates from university educators</p>
                        </div>
                    </div>
                    <div class="dashboard-section">
                        <h2>Quick Access Menu</h2>
                        <div class="quick-access-grid">
                            ${createActionButton('View My Students', 'students')}
                            ${createActionButton('Complete Assessments', 'assessments')}
                            ${createActionButton('Resource Library', 'resources')}
                            ${createActionButton('Message Educators', 'messages')}
                            ${createActionButton('Book Site Visit', 'site-visits')}
                            ${createActionButton('Submit Feedback', 'feedback')}
                        </div>
                    </div>
                `
            },
            students: {
                title: 'My Students',
                description: 'Track placement progress, evaluation milestones, and communication history for each student you supervise.',
                actions: [
                    { label: 'Placement Overview', target: 'students-overview' },
                    { label: 'Progress Reviews', target: 'students-progress' },
                    { label: 'Student Communication Log', target: 'students-communication' }
                ],
                parent: 'dashboard'
            },
            'students-overview': {
                title: 'Placement Overview',
                description: 'Review placement assignments, site details, and key contacts for every active student.',
                content: `
                    <ul class="detail-list">
                        <li>8 active placements confirmed with weekly reflections submitted.</li>
                        <li>2 students flagged for additional support — review notes before Friday.</li>
                        <li>Download the placement matrix to view clinical hours completed to date.</li>
                    </ul>
                `,
                parent: 'students'
            },
            'students-progress': {
                title: 'Progress Reviews',
                description: 'Monitor competency development through formative and summative evaluations.',
                content: `
                    <ul class="detail-list">
                        <li>Midterm rubrics auto-save — finish drafts before sharing with learners.</li>
                        <li>Compare self-assessments with supervisor ratings to highlight discussion points.</li>
                        <li>Schedule 1:1 check-ins directly from each student profile.</li>
                    </ul>
                `,
                parent: 'students'
            },
            'students-communication': {
                title: 'Student Communication Log',
                description: 'Document outreach, coaching notes, and agreements from supervisory conversations.',
                content: `
                    <ul class="detail-list">
                        <li>Log call summaries and attach follow-up tasks for learners.</li>
                        <li>Tag discussions that require educator escalation.</li>
                        <li>Generate a weekly digest of student updates for record keeping.</li>
                    </ul>
                `,
                parent: 'students'
            },
            assessments: {
                title: 'Assessments',
                description: 'Launch new evaluations and revisit drafts awaiting completion.',
                actions: [
                    { label: 'Start Midterm Assessment', target: 'assessments-midterm' },
                    { label: 'Finalize Final Assessment', target: 'assessments-final' },
                    { label: 'Review Past Assessments', target: 'assessments-history' }
                ],
                parent: 'dashboard'
            },
            'assessments-midterm': {
                title: 'Midterm Assessment',
                description: 'Capture midpoint performance insights with guided prompts and rubrics.',
                content: `
                    <ul class="detail-list">
                        <li>Pre-populated criteria aligned with university competencies.</li>
                        <li>Auto-save responses and share drafts with co-supervisors.</li>
                        <li>Schedule a feedback meeting and send calendar invites.</li>
                    </ul>
                `,
                parent: 'assessments'
            },
            'assessments-final': {
                title: 'Final Assessment',
                description: 'Document overall performance, recommendations, and licensing readiness.',
                content: `
                    <ul class="detail-list">
                        <li>Summarize strengths, growth areas, and final placement decision.</li>
                        <li>Attach evidence artifacts collected throughout the term.</li>
                        <li>Export signed copies for institutional records.</li>
                    </ul>
                `,
                parent: 'assessments'
            },
            'assessments-history': {
                title: 'Assessment Archive',
                description: 'Browse previous evaluations to spot trends over multiple placements.',
                content: `
                    <ul class="detail-list">
                        <li>Filter by student, cohort, or competency to compare outcomes.</li>
                        <li>Download PDFs for accreditation reporting.</li>
                        <li>Identify patterns that inform supervisor calibration sessions.</li>
                    </ul>
                `,
                parent: 'assessments'
            },
            resources: {
                title: 'Resource Library',
                description: 'Access clinical guides, teaching supports, and policy references.',
                actions: [
                    { label: 'Clinical Guidelines', target: 'resources-guidelines' },
                    { label: 'Teaching Resources', target: 'resources-teaching' },
                    { label: 'Policy Updates', target: 'resources-policy' }
                ],
                parent: 'dashboard'
            },
            'resources-guidelines': {
                title: 'Clinical Guidelines',
                description: 'Ensure placements align with the latest clinical standards and safety expectations.',
                content: `
                    <ul class="detail-list">
                        <li>Download procedural checklists tailored to each specialty area.</li>
                        <li>Review evidence-based practice updates added this month.</li>
                        <li>Share guideline summaries with your student cohort.</li>
                    </ul>
                `,
                parent: 'resources'
            },
            'resources-teaching': {
                title: 'Teaching Resources',
                description: 'Leverage coaching tools and reflection prompts to guide learner growth.',
                content: `
                    <ul class="detail-list">
                        <li>Access skill lab scenarios complete with debrief questions.</li>
                        <li>Browse mentorship strategies curated by faculty leads.</li>
                        <li>Assign reflection activities that tie to competency rubrics.</li>
                    </ul>
                `,
                parent: 'resources'
            },
            'resources-policy': {
                title: 'Policy Updates',
                description: 'Stay informed about placement compliance, documentation, and safety requirements.',
                content: `
                    <ul class="detail-list">
                        <li>Review the latest background check submission timelines.</li>
                        <li>Download the updated clinical dress code policy.</li>
                        <li>Track mandatory training completion for site staff.</li>
                    </ul>
                `,
                parent: 'resources'
            },
            messages: {
                title: 'Message Educators',
                description: 'Collaborate with academic staff to coordinate support for learners.',
                actions: [
                    { label: 'Compose New Message', target: 'messages-compose' },
                    { label: 'View Inbox', target: 'messages-inbox' },
                    { label: 'Schedule Video Call', target: 'messages-schedule' }
                ],
                parent: 'dashboard'
            },
            'messages-compose': {
                title: 'Compose Message',
                description: 'Send secure updates directly to the academic educator team.',
                content: `
                    <ul class="detail-list">
                        <li>Use templates for student progress alerts and success highlights.</li>
                        <li>Attach assessment drafts or supporting documents.</li>
                        <li>Route urgent concerns through the escalation workflow.</li>
                    </ul>
                `,
                parent: 'messages'
            },
            'messages-inbox': {
                title: 'Inbox Overview',
                description: 'Keep track of educator responses and outstanding action items.',
                content: `
                    <ul class="detail-list">
                        <li>Mark messages as complete once tasks are fulfilled.</li>
                        <li>Pin priority conversations for quick reference.</li>
                        <li>Export conversation history for accreditation audits.</li>
                    </ul>
                `,
                parent: 'messages'
            },
            'messages-schedule': {
                title: 'Schedule Video Call',
                description: 'Coordinate virtual meetings to align on student progress plans.',
                content: `
                    <ul class="detail-list">
                        <li>Offer time slots synced with your calendar availability.</li>
                        <li>Auto-generate meeting agendas with student talking points.</li>
                        <li>Send follow-up summaries and action items to attendees.</li>
                    </ul>
                `,
                parent: 'messages'
            },
            'site-visits': {
                title: 'Book Site Visit',
                description: 'Plan on-site observations to support clinical learning environments.',
                actions: [
                    { label: 'Request New Visit', target: 'visits-request' },
                    { label: 'View Upcoming Visits', target: 'visits-upcoming' },
                    { label: 'Document Visit Notes', target: 'visits-notes' }
                ],
                parent: 'dashboard'
            },
            'visits-request': {
                title: 'Request a Visit',
                description: 'Submit preferred dates, focus areas, and stakeholders for your next visit.',
                content: `
                    <ul class="detail-list">
                        <li>Check site capacity and blackout dates before sending.</li>
                        <li>Select visit objectives aligned with learner goals.</li>
                        <li>Receive confirmation notifications once scheduled.</li>
                    </ul>
                `,
                parent: 'site-visits'
            },
            'visits-upcoming': {
                title: 'Upcoming Visits',
                description: 'Review scheduled visits, logistics, and preparation tasks.',
                content: `
                    <ul class="detail-list">
                        <li>Download agendas and observation checklists for each visit.</li>
                        <li>Coordinate with site staff using embedded contact links.</li>
                        <li>Confirm travel arrangements and documentation requirements.</li>
                    </ul>
                `,
                parent: 'site-visits'
            },
            'visits-notes': {
                title: 'Visit Notes',
                description: 'Capture observations, coaching points, and follow-up actions.',
                content: `
                    <ul class="detail-list">
                        <li>Tag notes to students, competencies, or site resources.</li>
                        <li>Share summarized feedback with learners post-visit.</li>
                        <li>Export notes for accreditation or site partnership reviews.</li>
                    </ul>
                `,
                parent: 'site-visits'
            },
            feedback: {
                title: 'Submit Feedback',
                description: 'Provide insights that improve clinical placements and supervisor support.',
                actions: [
                    { label: 'Share Student Feedback', target: 'feedback-student' },
                    { label: 'Report Site Issue', target: 'feedback-site' },
                    { label: 'Suggest New Resource', target: 'feedback-resource' }
                ],
                parent: 'dashboard'
            },
            'feedback-student': {
                title: 'Student Feedback',
                description: 'Celebrate achievements and note opportunities for additional coaching.',
                content: `
                    <ul class="detail-list">
                        <li>Highlight key competency milestones reached this term.</li>
                        <li>Flag areas where faculty support would be beneficial.</li>
                        <li>Share testimonials to recognize outstanding performance.</li>
                    </ul>
                `,
                parent: 'feedback'
            },
            'feedback-site': {
                title: 'Site Issue Report',
                description: 'Alert the placement office to concerns impacting safety or learning quality.',
                content: `
                    <ul class="detail-list">
                        <li>Log environmental or staffing challenges encountered.</li>
                        <li>Attach supporting documentation or photos securely.</li>
                        <li>Track resolution progress with placement coordinators.</li>
                    </ul>
                `,
                parent: 'feedback'
            },
            'feedback-resource': {
                title: 'Suggest a Resource',
                description: 'Recommend tools, readings, or workshops that elevate supervision practice.',
                content: `
                    <ul class="detail-list">
                        <li>Submit lesson plans or reflection prompts that worked well.</li>
                        <li>Nominate external experts for guest teaching sessions.</li>
                        <li>Flag technology platforms that streamline documentation.</li>
                    </ul>
                `,
                parent: 'feedback'
            }
        };

        function createActionButton(label, target) {
            return `<button type="button" class="quick-access-button" data-target="${target}">${label}</button>`;
        }

        function renderView(viewId) {
            const view = views[viewId];
            if (!view) {
                console.warn(`View "${viewId}" not found.`);
                return;
            }

            if (viewId === 'dashboard') {
                viewContainer.innerHTML = view.render();
                attachActionHandlers();
                return;
            }

            let html = '<div class="dashboard-section">';

            if (view.parent) {
                const parentTitle = views[view.parent]?.title || 'Dashboard';
                html += `<button type="button" class="back-button" data-target="${view.parent}">← Back to ${parentTitle}</button>`;
            }

            html += `<div class="view-header"><h2>${view.title}</h2>`;
            if (view.description) {
                html += `<p>${view.description}</p>`;
            }
            html += '</div>';

            if (view.actions?.length) {
                html += '<div class="quick-access-grid">';
                html += view.actions.map(action => createActionButton(action.label, action.target)).join('');
                html += '</div>';
            }

            if (view.content) {
                html += `<div class="view-content">${view.content}</div>`;
            }

            html += '</div>';

            viewContainer.innerHTML = html;
            attachActionHandlers();
        }

        function attachActionHandlers() {
            viewContainer.querySelectorAll('[data-target]').forEach(button => {
                button.addEventListener('click', () => {
                    const target = button.getAttribute('data-target');
                    renderView(target);
                });
            });
        }

        function sendCode(event) {
            event.preventDefault();
            simulatedUserEmail = emailInput.value.trim();

            if (!simulatedUserEmail) {
                loginStatus.textContent = 'Please enter a valid university email.';
                return;
            }

            console.log(`Simulating: SMS code "${correctSimulatedCode}" sent to ${simulatedUserEmail}`);

            emailStep.classList.add('hidden');
            codeStep.classList.remove('hidden');
            codeInput.focus();
            loginStatus.textContent = 'Demo mode: use code 123456 to continue.';
        }

        function verifyCode(event) {
            event.preventDefault();
            const enteredCode = codeInput.value.trim();

            if (enteredCode === correctSimulatedCode) {
                codeStep.classList.add('hidden');
                portalDashboard.classList.remove('hidden');
                emergencyContact.style.display = 'block';

                const userName = simulatedUserEmail.split('@')[0] || 'Supervisor';
                greeting.textContent = `Welcome back, ${capitalizeFirstLetter(userName)}!`;

                if (rememberDeviceCheckbox.checked) {
                    console.log('Demo: device remembered for future logins.');
                }

                loginStatus.textContent = '';
                renderView('dashboard');
            } else {
                loginStatus.textContent = 'Incorrect code. Please try again or resend the code.';
                codeInput.value = '';
                codeInput.focus();
            }
        }

        function resendCode(event) {
            event.preventDefault();
            if (!simulatedUserEmail) {
                loginStatus.textContent = 'Enter your email first so we know where to send the code.';
                return;
            }
            console.log(`Simulating: Resending SMS code "${correctSimulatedCode}" to ${simulatedUserEmail}`);
            loginStatus.textContent = 'Demo mode: code 123456 has been resent.';
        }

        function capitalizeFirstLetter(string) {
            return string.charAt(0).toUpperCase() + string.slice(1);
        }

        emailStep.addEventListener('submit', sendCode);
        codeStep.addEventListener('submit', verifyCode);
        document.getElementById('resendLink').addEventListener('click', resendCode);

        chatWidget.addEventListener('click', () => {
            window.open('https://example.com/clinical-chatbot', '_blank', 'noopener');
        });
    </script>
</body>
</html>
